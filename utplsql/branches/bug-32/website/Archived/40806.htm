<head><style type="text/css">@import url(wbarchiv.css);</style></head><body><strong><a href="40826.htm">Previous</a> | <a href="40827.htm">Next</a></strong><hr size=0>
<b>Topic:</b> UTASSERT.IT_RAN..., 1 Attachments<br>
<b>Conf:</b> 538, Msg: 40806<br>
<b>From:</b> Darryl Hurley (<a href="mailto:dhurley@mdsi.bc.ca">dhurley@mdsi.bc.ca</a>)<br>
<b>Date:</b> 1/18/01 10:59 AM<br>

<p><title>UTASSERT.IT_RAN... Darryl Hurley drh dhurley@mdsi.bc.ca</title>
<br>
I am testing a package that calculates a checksum of a schema in order to identify any tampering. It checks all objects in the schema (tables,indexes,constraints,etc) and<br>
calculates the ASCII value of each character in their name, source code, table name, etc. You can imagine that this number gets pretty big on schemas with many objects and a lot of stored procedures.<br>
<br>
One test that I want to do is to see if the checksum calculation procedure still works. That's all I want to know, did it work. I don't even care what it returned.<br>
<br>
So, I used utgen to create a test package called ut_chesksum (test_checksum in the attached zip) and set about finding a utassert option to see if the code simply worked without error.<br>
<br>
My first thought was to try UTASSERT.THIS but it requires a boolean return so I had to add a procedure to the test package called does_it_run that simply executes the calculate procedure and returns TRUE on success or FALSE on failure. Then I could use UTASSERT.THIS.<br>
<br>
So; what am I getting at? I am glad you asked?<br>
<br>
1) Is there an easier way to have utplsql test this<br>
   condition?<br>
2) Can a default assertion be created for this?<br>
<br>
The attached zip contains the following :<br>
<br>
1) checksum.sql : a simplified version of the checksum<br>
                  package.<br>
2) test_checksum.sql : the test package<br>
3) test.sql : the command I used to run the test<br>
<br>
BTW : I am using 1.5.4<br>
<br>
Darryl Hurley<br>
Database Architect<br>
-- Mobile Data Solutions Inc (MDSI)<br>
-- ImpleStrat Solutions<br>


<p><a href="does_it_run.zip"><img src="fa_app-s.gif" alt="Click to open!" border=0 align=left></a>Does it run? (998 bytes)<br clear=all></body>
